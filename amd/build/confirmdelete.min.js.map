{"version":3,"file":"confirmdelete.min.js","sources":["../src/confirmdelete.js"],"sourcesContent":["\n/**\n * Confirm modal before delete.\n *\n * @module     local_footballscore/confirmdelete\n * @copyright  2024 Md Shamim Miah\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/notification'\n], function($,\n             Ajax,\n             str,\n             ModalFactory,\n             ModalEvents,\n             Notification) {\n\n    $('.delete-btn').on('click', function() {\n        // alert();\n        let elementId = $(this).attr('id');\n        let arr = elementId.split(\"-\");\n        let scoreId = arr[arr.length - 1];\n        // eslint-disable-next-line promise/catch-or-return\n        ModalFactory.create({\n            type: ModalFactory.types.SAVE_CANCEL,\n            title: str.get_string('deletetitle', 'local_todo', '', ''),\n            body: str.get_string('modalmessage', 'local_todo', '', '')\n            // eslint-disable-next-line promise/always-return\n        }).then(function(modal) {\n            modal.setSaveButtonText(str.get_string('delete', 'local_todo', '', ''));\n            let root = modal.getRoot();\n            root.on(ModalEvents.save, function() {\n                let wsfunction = 'local_todo_delete_by_id';\n                // alert(scoreId);\n                // console.log( wsfunction);\n                let params = {\n                    'scoreid': scoreId,\n                };\n                let request = {\n                    methodname: wsfunction,\n                    args: params\n                };\n\n                alert(request.methodname);\n\n                Ajax.call([request])[0].done(function() {\n                    window.location.href = $(location).attr('href');\n                }).fail(Notification.exception);\n            });\n            modal.show();\n        });\n    });\n});"],"names":["define","$","Ajax","str","ModalFactory","ModalEvents","Notification","on","arr","this","attr","split","scoreId","length","create","type","types","SAVE_CANCEL","title","get_string","body","then","modal","setSaveButtonText","getRoot","save","request","methodname","args","alert","call","done","window","location","href","fail","exception","show"],"mappings":";;;;;;;AAQAA,kCAAO,CACH,SACA,YACA,WACA,qBACA,oBACA,sBACD,SAASC,EACCC,KACAC,IACAC,aACAC,YACAC,cAETL,EAAE,eAAeM,GAAG,SAAS,eAGrBC,IADYP,EAAEQ,MAAMC,KAAK,MACTC,MAAM,KACtBC,QAAUJ,IAAIA,IAAIK,OAAS,GAE/BT,aAAaU,OAAO,CAChBC,KAAMX,aAAaY,MAAMC,YACzBC,MAAOf,IAAIgB,WAAW,cAAe,aAAc,GAAI,IACvDC,KAAMjB,IAAIgB,WAAW,eAAgB,aAAc,GAAI,MAExDE,MAAK,SAASC,OACbA,MAAMC,kBAAkBpB,IAAIgB,WAAW,SAAU,aAAc,GAAI,KACxDG,MAAME,UACZjB,GAAGF,YAAYoB,MAAM,eAOlBC,QAAU,CACVC,WAPa,0BAQbC,KALS,SACEhB,UAOfiB,MAAMH,QAAQC,YAEdzB,KAAK4B,KAAK,CAACJ,UAAU,GAAGK,MAAK,WACzBC,OAAOC,SAASC,KAAOjC,EAAEgC,UAAUvB,KAAK,WACzCyB,KAAK7B,aAAa8B,cAEzBd,MAAMe"}